<Window x:Class="EmailClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Email Client" Height="600" Width="1000" MinHeight="400" MinWidth="800"
        FontFamily="Segoe UI">

    <!-- Set the Window background color -->
    <Window.Resources>
        <!-- Define custom colors for a modern dark theme -->
        <SolidColorBrush x:Key="DarkBackgroundColor" Color="#1A1A1A"/>
        <SolidColorBrush x:Key="LightBackgroundColor" Color="#333333"/>
        <SolidColorBrush x:Key="AccentBlueColor" Color="#3A7CA5"/>
        <SolidColorBrush x:Key="AccentGrayColor" Color="#A9A9A9"/>
        <SolidColorBrush x:Key="TextColor" Color="White"/>
        <SolidColorBrush x:Key="TextGrayColor" Color="#D3D3D3"/>
        <SolidColorBrush x:Key="LightGrayColor" Color="#D3D3D3"/>
    </Window.Resources>

    <Grid Background="{StaticResource DarkBackgroundColor}">
        <!-- Define Row Layout -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Row for the image/logo (fixed height) -->
            <RowDefinition Height="Auto"/>
            <!-- Row for the menu (fixed height) -->
            <RowDefinition Height="*"/>
            <!-- Row for the main content (fills remaining space) -->
        </Grid.RowDefinitions>

        <!-- (a) Image: Display the logo in the first row -->
        <Grid Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Center">
            <Image Source="logo.png" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10,0,0,0" Width="40" Height="40"/>
        </Grid>

        <!-- (b) Menu: Displays the main menu of the application -->
        <Menu Grid.Row="1" Background="{StaticResource LightBackgroundColor}" Foreground="{StaticResource TextColor}">
            <!-- File Menu with Icon -->
            <MenuItem Header="File" Foreground="{StaticResource TextColor}">
                <MenuItem.Icon>
                    <Image Width="16" Height="16" Source="/file.webp"/>
                </MenuItem.Icon>
                <MenuItem Header="Exit" Click="Exit_Click" Foreground="{StaticResource DarkBackgroundColor}">
                    <MenuItem.Icon>
                        <Image Width="16" Height="16" Source="/exit.png"/>
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>

            <!-- Message Menu with Icon -->
            <MenuItem Header="Message" Foreground="{StaticResource TextColor}">
                <MenuItem.Icon>
                    <Image Width="16" Height="16" Source="/message.webp"/>
                </MenuItem.Icon>
                <MenuItem Header="New Static" Foreground="{StaticResource DarkBackgroundColor}">
                    <MenuItem.Icon>
                        <Image Width="16" Height="16" Source="/new-message.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Edit Static" Foreground="{StaticResource DarkBackgroundColor}">
                    <MenuItem.Icon>
                        <Image Width="16" Height="16" Source="/edit.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="New" Foreground="{StaticResource DarkBackgroundColor}">
                    <MenuItem.Icon>
                        <Image Width="16" Height="16" Source="/new-message.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Edit" Foreground="{StaticResource DarkBackgroundColor}">
                    <MenuItem.Icon>
                        <Image Width="16" Height="16" Source="/edit.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Delete" Foreground="{StaticResource DarkBackgroundColor}">
                    <MenuItem.Icon>
                        <Image Width="16" Height="16" Source="/delete.webp"/>
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>
        </Menu>



        <!-- Main Content Area using Grid for dividing columns -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" />
                <!-- Sidebar (TreeView) -->
                <ColumnDefinition Width="4*" />
                <!-- Email List (ListView) -->
                <ColumnDefinition Width="5*" />
                <!-- Email Content (TextBlock) -->
            </Grid.ColumnDefinitions>

            <!-- (b) TreeView: Displays mailboxes and their folders -->
            <TreeView Grid.Column="0" Margin="5" Background="{StaticResource LightBackgroundColor}" Foreground="{StaticResource TextGrayColor}" FontFamily="Segoe UI">
                <TreeViewItem Header="Mailbox 1" Foreground="{StaticResource TextColor}">
                    <TreeViewItem Header="Inbox" Foreground="{StaticResource LightGrayColor}"/>
                    <TreeViewItem Header="Sent" Foreground="{StaticResource LightGrayColor}"/>
                    <TreeViewItem Header="Drafts" Foreground="{StaticResource LightGrayColor}"/>
                    <TreeViewItem Header="Trash" Foreground="{StaticResource LightGrayColor}"/>
                </TreeViewItem>
                <TreeViewItem Header="Mailbox 2" Foreground="{StaticResource TextColor}">
                    <TreeViewItem Header="Inbox" Foreground="{StaticResource LightGrayColor}"/>
                    <TreeViewItem Header="Sent" Foreground="{StaticResource LightGrayColor}"/>
                    <TreeViewItem Header="Drafts" Foreground="{StaticResource LightGrayColor}"/>
                    <TreeViewItem Header="Trash" Foreground="{StaticResource LightGrayColor}"/>
                </TreeViewItem>
            </TreeView>


            <!-- Email List Section (Grid instead of DockPanel) -->
            <Grid Grid.Column="1" Margin="5">
                <!-- Define Rows for Search & Filter and Email List -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Search & Filter Box -->
                    <RowDefinition Height="*"/>
                    <!-- ListView (Fills Remaining Space) -->
                </Grid.RowDefinitions>

                <!-- (e) Search and Filter: TextBox & ComboBox inside a StackPanel -->
                <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="5">
                    <TextBox Name="SearchBox" Width="200" Height="25" Text="Search..." Foreground="{StaticResource TextGrayColor}"
                             GotFocus="SearchBox_GotFocus" LostFocus="SearchBox_LostFocus" 
                             TextChanged="SearchBox_TextChanged" Background="{StaticResource LightBackgroundColor}" FontFamily="Segoe UI"/>
                    <ComboBox Name="FilterBox" Width="120" Height="25" SelectionChanged="FilterBox_SelectionChanged"
                    Background="{StaticResource LightBackgroundColor}" Foreground="{StaticResource DarkBackgroundColor}" FontFamily="Segoe UI">
                        <ComboBoxItem Content="All" IsSelected="True" Foreground="{StaticResource DarkBackgroundColor}"/>
                        <ComboBoxItem Content="Unread" Foreground="{StaticResource DarkBackgroundColor}"/>
                        <ComboBoxItem Content="Important" Foreground="{StaticResource DarkBackgroundColor}"/>
                    </ComboBox>

                </StackPanel>

                <!-- (c) ListView: Displays a list of messages in the selected folder -->
                <ListView Name="EmailList" Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                          MouseDoubleClick="EmailList_DoubleClick" Background="{StaticResource LightBackgroundColor}" FontFamily="Segoe UI" Foreground="{StaticResource TextColor}">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Subject" Width="200" DisplayMemberBinding="{Binding Subject}"/>
                            <GridViewColumn Header="From" Width="150" DisplayMemberBinding="{Binding Sender}"/>
                            <GridViewColumn Header="Date" Width="120" DisplayMemberBinding="{Binding Date}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Grid>

            <!-- (d) TextBlock: Displays the content of the selected email -->
            <TextBlock Name="EmailContent" Grid.Column="2" Margin="5" Text="Select an email to view content." 
                       TextWrapping="Wrap" Padding="10" Background="{StaticResource LightBackgroundColor}" Foreground="{StaticResource TextGrayColor}" FontFamily="Segoe UI"/>
        </Grid>
    </Grid>
</Window>
